<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dash AI - Your Smart AI Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            font-size: 3rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .tagline {
            color: rgba(255,255,255,0.9);
            font-size: 1.2rem;
        }

        .main-content {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .sidebar {
            width: 300px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .chat-container {
            flex: 1;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            height: 600px;
        }

        .user-info {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            border-radius: 10px;
        }

        .level-badge {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }

        .xp-bar {
            background: #ddd;
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .xp-fill {
            background: linear-gradient(45deg, #00b894, #00cec9);
            height: 100%;
            transition: width 0.3s ease;
        }

        .timer {
            background: #ff7675;
            color: white;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .premium-btn {
            background: linear-gradient(45deg, #fd79a8, #fdcb6e);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-bottom: 15px;
            transition: transform 0.2s;
        }

        .premium-btn:hover {
            transform: translateY(-2px);
        }

        .memory-section {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .memory-item {
            background: white;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 4px solid #667eea;
            font-size: 0.9rem;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .message {
            margin: 15px 0;
            padding: 15px;
            border-radius: 15px;
            max-width: 80%;
            animation: fadeIn 0.3s ease;
        }

        .user-message {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .ai-message {
            background: white;
            border: 2px solid #e9ecef;
            color: #333;
        }

        .typing-indicator {
            display: none;
            padding: 15px;
            background: white;
            border-radius: 15px;
            max-width: 80%;
            border: 2px solid #e9ecef;
        }

        .typing-dots {
            display: flex;
            gap: 5px;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #667eea;
            animation: bounce 1.4s infinite;
        }

        .dot:nth-child(2) { animation-delay: 0.2s; }
        .dot:nth-child(3) { animation-delay: 0.4s; }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .input-field {
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            outline: none;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .input-field:focus {
            border-color: #667eea;
        }

        .send-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .send-btn:hover {
            transform: translateY(-2px);
        }

        .send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            margin-bottom: 10px;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
        }

        .milestone-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #fd79a8, #fdcb6e);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .milestone-notification.show {
            transform: translateX(0);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounce {
            0%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .auth-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .auth-btn.active {
            background: #667eea;
            color: white;
        }

        .premium-features {
            background: linear-gradient(135deg, #fd79a8, #fdcb6e);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.3);
        }

        .feature-list li:last-child {
            border-bottom: none;
        }

        .feature-list li:before {
            content: "âœ“ ";
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                order: 2;
            }
            
            .chat-container {
                order: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">âš¡ Dash AI</div>
            <div class="tagline">Your Lightning-Fast AI Assistant</div>
        </div>

        <div class="main-content">
            <div class="sidebar">
                <div class="auth-buttons" id="authButtons">
                    <button class="auth-btn active" onclick="showLogin()">Login</button>
                    <button class="auth-btn" onclick="showSignup()">Sign Up</button>
                </div>

                <div class="user-info" id="userInfo" style="display: none;">
                    <div class="level-badge">Level <span id="userLevel">1</span></div>
                    <div class="xp-bar">
                        <div class="xp-fill" id="xpBar" style="width: 0%"></div>
                    </div>
                    <div><span id="currentXP">0</span> / <span id="nextLevelXP">100</span> XP</div>
                    <div style="margin-top: 10px;">
                        <strong id="userName">Guest</strong>
                        <div id="userStatus">Free Plan</div>
                    </div>
                </div>

                <div class="timer" id="timer" style="display: none;">
                    Time remaining: <span id="timeLeft">5:00</span>
                </div>

                <button class="premium-btn" onclick="showPremiumModal()">
                    ðŸš€ Upgrade to Premium
                </button>

                <div class="memory-section">
                    <h3>ðŸ’­ Memory</h3>
                    <div id="memoryList">
                        <div class="memory-item">No previous conversations</div>
                    </div>
                </div>

                <div class="premium-features">
                    <h3>Premium Features</h3>
                    <ul class="feature-list">
                        <li>Unlimited chat time</li>
                        <li>Advanced memory system</li>
                        <li>Priority responses</li>
                        <li>Export conversations</li>
                        <li>Custom AI personalities</li>
                    </ul>
                </div>
            </div>

            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message">
                        <strong>Dash AI:</strong> Hello! I'm Dash AI, your lightning-fast AI assistant. Please log in or sign up to start chatting with me! ðŸš€
                    </div>
                </div>

                <div class="typing-indicator" id="typingIndicator">
                    <strong>Dash AI is typing...</strong>
                    <div class="typing-dots">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>

                <div class="chat-input">
                    <input type="text" class="input-field" id="messageInput" placeholder="Type your message..." disabled>
                    <button class="send-btn" id="sendBtn" onclick="sendMessage()" disabled>Send</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <h2>Login to Dash AI</h2>
            <div class="form-group">
                <label for="loginEmail">Email:</label>
                <input type="email" id="loginEmail" required>
            </div>
            <div class="form-group">
                <label for="loginPassword">Password:</label>
                <input type="password" id="loginPassword" required>
            </div>
            <button class="btn-primary" onclick="login()">Login</button>
            <button class="btn-secondary" onclick="closeModal()">Cancel</button>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal" id="signupModal">
        <div class="modal-content">
            <h2>Sign Up for Dash AI</h2>
            <div class="form-group">
                <label for="signupName">Name:</label>
                <input type="text" id="signupName" required>
            </div>
            <div class="form-group">
                <label for="signupEmail">Email:</label>
                <input type="email" id="signupEmail" required>
            </div>
            <div class="form-group">
                <label for="signupPassword">Password:</label>
                <input type="password" id="signupPassword" required>
            </div>
            <button class="btn-primary" onclick="signup()">Sign Up</button>
            <button class="btn-secondary" onclick="closeModal()">Cancel</button>
        </div>
    </div>

    <!-- Premium Modal -->
    <div class="modal" id="premiumModal">
        <div class="modal-content">
            <h2>ðŸš€ Upgrade to Premium</h2>
            <div style="margin: 20px 0;">
                <h3>Premium Benefits:</h3>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li>Unlimited chat time</li>
                    <li>Advanced memory system</li>
                    <li>Priority responses</li>
                    <li>Export conversations</li>
                    <li>Custom AI personalities</li>
                </ul>
                <div style="text-align: center; margin: 20px 0;">
                    <h2 style="color: #667eea;">$9.99/month</h2>
                </div>
            </div>
            <button class="btn-primary" onclick="upgradeToPremium()">Upgrade Now</button>
            <button class="btn-secondary" onclick="closeModal()">Maybe Later</button>
        </div>
    </div>

    <!-- Milestone Notification -->
    <div class="milestone-notification" id="milestoneNotification">
        <h3>ðŸŽ‰ Milestone Reached!</h3>
        <p id="milestoneMessage"></p>
    </div>

    <script>
        // User data structure
        let userData = {
            name: '',
            email: '',
            level: 1,
            xp: 0,
            isPremium: false,
            chatTimeRemaining: 300, // 5 minutes in seconds
            conversations: [],
            isLoggedIn: false,
            premiumExpiry: null
        };

        // XP requirements for each level
        const xpRequirements = {
            1: 100, 2: 250, 3: 500, 4: 1000, 5: 2000,
            10: 5000, 25: 15000, 50: 35000, 100: 75000, 500: 500000
        };

        // Milestone rewards
        const milestoneRewards = {
            10: { type: 'premium', days: 1, message: 'Level 10 reached! Enjoy 1 day of Premium FREE!' },
            25: { type: 'premium', days: 3, message: 'Level 25 reached! Enjoy 3 days of Premium FREE!' },
            50: { type: 'premium', days: 5, message: 'Level 50 reached! Enjoy 5 days of Premium FREE!' },
            100: { type: 'premium', days: 7, message: 'Level 100 reached! Enjoy 7 days of Premium FREE!' },
            500: { type: 'premium', days: 30, message: 'Level 500 reached! Enjoy 30 days of Premium FREE!' }
        };

        // Chat timer
        let chatTimer = null;
        let isTimerRunning = false;

        // AI responses database
        const aiResponses = {
            greetings: [
                "Hello! I'm Dash AI, ready to help you with lightning speed! âš¡",
                "Hi there! What can I help you with today? ðŸš€",
                "Welcome back! Great to see you again! ðŸ˜Š",
                "Hey! I'm here and ready to chat! What's on your mind? ðŸ’­"
            ],
            questions: [
                "That's a great question! Based on my knowledge, I'd say...",
                "Interesting! Let me think about that for a moment...",
                "I love curious minds! Here's what I know about that...",
                "Great question! I'm processing that at lightning speed..."
            ],
            compliments: [
                "Thank you! I'm always learning and improving! ðŸŒŸ",
                "You're too kind! I do my best to be helpful! ðŸ˜Š",
                "That means a lot! I'm glad I could help! ðŸ’«",
                "Aww, thanks! You're pretty awesome yourself! ðŸš€"
            ],
            general: [
                "I understand what you're asking about. Let me explain...",
                "That's an interesting topic! Here's my perspective...",
                "I can help with that! Let me break it down for you...",
                "Great point! I'd like to add that...",
                "I'm processing your request at maximum speed! Here's what I think..."
            ]
        };

        // Initialize the application
        function init() {
            loadUserData();
            setupEventListeners();
            updateUI();
        }

        // Load user data from memory (simulated)
        function loadUserData() {
            const saved = localStorage.getItem('dashAI_userData');
            if (saved) {
                try {
                    userData = {...userData, ...JSON.parse(saved)};
                    if (userData.premiumExpiry && new Date(userData.premiumExpiry) > new Date()) {
                        userData.isPremium = true;
                    } else {
                        userData.isPremium = false;
                        userData.premiumExpiry = null;
                    }
                } catch (e) {
                    console.error('Error loading user data:', e);
                }
            }
        }

        // Save user data to memory (simulated)
        function saveUserData() {
            localStorage.setItem('dashAI_userData', JSON.stringify(userData));
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('messageInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            // Close modals when clicking outside
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    closeModal();
                }
            });
        }

        // Update UI based on user state
        function updateUI() {
            const authButtons = document.getElementById('authButtons');
            const userInfo = document.getElementById('userInfo');
            const messageInput = document.getElementById('messageInput');
            const sendBtn = document.getElementById('sendBtn');
            const timer = document.getElementById('timer');

            if (userData.isLoggedIn) {
                authButtons.style.display = 'none';
                userInfo.style.display = 'block';
                messageInput.disabled = false;
                sendBtn.disabled = false;
                messageInput.placeholder = 'Type your message...';

                // Update user info
                document.getElementById('userName').textContent = userData.name;
                document.getElementById('userLevel').textContent = userData.level;
                document.getElementById('currentXP').textContent = userData.xp;
                document.getElementById('nextLevelXP').textContent = getXPForNextLevel();
                document.getElementById('userStatus').textContent = userData.isPremium ? 'Premium' : 'Free Plan';

                // Update XP bar
                const xpProgress = (userData.xp / getXPForNextLevel()) * 100;
                document.getElementById('xpBar').style.width = xpProgress + '%';

                // Show timer for free users
                if (!userData.isPremium) {
                    timer.style.display = 'block';
                    updateTimer();
                } else {
                    timer.style.display = 'none';
                }

                // Update memory
                updateMemoryDisplay();
            } else {
                authButtons.style.display = 'flex';
                userInfo.style.display = 'none';
                messageInput.disabled = true;
                sendBtn.disabled = true;
                messageInput.placeholder = 'Please log in to chat...';
                timer.style.display = 'none';
            }
        }

        // Get XP required for next level
        function getXPForNextLevel() {
            const nextLevel = userData.level + 1;
            return xpRequirements[nextLevel] || (userData.level * 1000);
        }

        // Show login modal
        function showLogin() {
            document.getElementById('loginModal').style.display = 'block';
            document.querySelectorAll('.auth-btn')[0].classList.add('active');
            document.querySelectorAll('.auth-btn')[1].classList.remove('active');
        }

        // Show signup modal
        function showSignup() {
            document.getElementById('signupModal').style.display = 'block';
            document.querySelectorAll('.auth-btn')[1].classList.add('active');
            document.querySelectorAll('.auth-btn')[0].classList.remove('active');
        }

        // Login function
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }

            // Simulate login (in real app, this would validate against server)
            userData.email = email;
            userData.name = email.split('@')[0];
            userData.isLoggedIn = true;
            userData.chatTimeRemaining = 300; // Reset chat time

            saveUserData();
            updateUI();
            closeModal();

            addMessage('ai', `Welcome back, ${userData.name}! Great to see you again! ðŸš€`);
        }

        // Signup function
        function signup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;

            if (!name || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            // Simulate signup (in real app, this would create account on server)
            userData.name = name;
            userData.email = email;
            userData.isLoggedIn = true;
            userData.level = 1;
            userData.xp = 0;
            userData.isPremium = false;
            userData.chatTimeRemaining = 300;
            userData.conversations = [];

            saveUserData();
            updateUI();
            closeModal();

            addMessage('ai', `Welcome to Dash AI, ${userData.name}! I'm excited to chat with you! ðŸŒŸ`);
        }

        // Close modal
        function closeModal() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }

        // Show premium modal
        function showPremiumModal() {
            document.getElementById('premiumModal').style.display = 'block';
        }

        // Upgrade to premium
        function upgradeToPremium() {
            userData.isPremium = true;
            userData.premiumExpiry = new Date(Date.now() + (30 * 24 * 60 * 60 * 1000)); // 30 days
            saveUserData();
            updateUI();
            closeModal();
            addMessage('ai', `ðŸŽ‰ Welcome to Premium! You now have unlimited chat time and access to all premium features!`);
        }

        // Send message function
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (!message || !userData.isLoggedIn) return;

            // Check if user has time left (free users only)
            if (!userData.isPremium && userData.chatTimeRemaining <= 0) {
                addMessage('ai', `â° Your free chat time has expired! Upgrade to Premium for unlimited chatting!`);
                return;
            }

            addMessage('user', message);
            input.value = '';

            // Start timer for free users
            if (!userData.isPremium && !isTimerRunning) {
                startChatTimer();
            }

            // Add XP for sending message
            addXP(10);

            // Store conversation in memory
            storeConversation(message);

            // Show typing indicator
            showTypingIndicator();

            // Generate AI response
            setTimeout(() => {
                const response = generateAIResponse(message);
                hideTypingIndicator();
                addMessage('ai', response);
                addXP(5); // XP for receiving response
            }, 1000 + Math.random() * 2000); // Realistic response time
        }

        // Add message to chat
        function addMessage(sender, message) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            if (sender === 'ai') {
                messageDiv.innerHTML = `<strong>Dash AI:</strong> ${message}`;
            } else {
                messageDiv.innerHTML = message;
            }

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Generate AI response
        function generateAIResponse(userMessage) {
            const msg = userMessage.toLowerCase();
            
            // Check for greetings
            if (msg.includes('hello') || msg.includes('hi') || msg.includes('hey')) {
                return aiResponses.greetings[Math.floor(Math.random() * aiResponses.greetings.length)];
            }
            
            // Check for questions
            if (msg.includes('?') || msg.includes('what') || msg.includes('how') || msg.includes('why')) {
                return aiResponses.questions[Math.floor(Math.random() * aiResponses.questions.length)] + 
                       " " + generateContextualResponse(msg);
            }
            
            // Check for compliments
            if (msg.includes('good') || msg.includes('great') || msg.includes('awesome') || msg.includes('amazing')) {
                return aiResponses.compliments[Math.floor(Math.random() * aiResponses.compliments.length)];
            }
            
            // Default response
            return aiResponses.general[Math.floor(Math.random() * aiResponses.general.length)] + 
                   " " + generateContextualResponse(msg);
        }

        // Generate contextual response
        function generateContextualResponse(message) {
            const responses = [
                "I'm designed to be helpful and quick! What else would you like to know?",
                "That's something I can definitely help with! I'm always learning new things.",
                "I love chatting about interesting topics like this! Feel free to ask me anything.",
                "My neural networks are processing that at lightning speed! Here's what I think...",
                "That's a fascinating topic! I enjoy discussing things like this with users.",
                "I'm here to help make your day better! What else can I assist you with?",
                "My advanced algorithms are working hard to give you the best response!",
                "I'm glad you're engaging with me! This is exactly what I was designed for."
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Show typing indicator
        function showTypingIndicator() {
            document.getElementById('typingIndicator').style.display = 'block';
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Hide typing indicator
        function hideTypingIndicator() {
            document.getElementById('typingIndicator').style.display = 'none';
        }

        // Start chat timer for free users
        function startChatTimer() {
            if (userData.isPremium) return;
            
            isTimerRunning = true;
            chatTimer = setInterval(() => {
                userData.chatTimeRemaining--;
                updateTimer();
                
                if (userData.chatTimeRemaining <= 0) {
                    clearInterval(chatTimer);
                    isTimerRun